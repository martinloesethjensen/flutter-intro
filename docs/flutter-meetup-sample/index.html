
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title></title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://storage.googleapis.com/codelab-elements/codelab-elements.css">
  <style>
    .success {
      color: #1e8e3e;
    }
    .error {
      color: red;
    }
  </style>
</head>
<body>
  <google-codelab-analytics gaid="UA-49880327-14"></google-codelab-analytics>
  <google-codelab codelab-gaid=""
                  id="flutter-meetup-sample"
                  title=""
                  environment="web"
                  feedback-link="https://google.com">
    
      <google-codelab-step label="First Step" duration="0">
        <h3 is-upgraded>Check Flutter version</h3>
<pre><code>flutter --version
</code></pre>
<h3 is-upgraded>Open simulator</h3>
<pre><code>open -a Simulator
</code></pre>
<h3 is-upgraded><code>flutter emulators --launch [DeviceID]</code></h3>
<p>Starts up the emulator, installs and opens up your Flutter app.</p>
<h3 is-upgraded><code>flutter emulators</code></h3>
<p>If you don&#39;t know the <code>DeviceID</code>, you can run this to get the list of your available emulators.</p>
<h3 is-upgraded><code>flutter run -d [DeviceID]</code></h3>
<p>Starts the project on either an emulator or device. Depending on the specified <code>DeviceID</code>.</p>
<h3 is-upgraded><code>flutter run -d [DeviceID] --flavor=[flavor]</code></h3>
<p>To run on Android with more that one build flavor, please specify <code>flavor</code>.</p>
<h3 is-upgraded><code>flutter devices</code></h3>
<p>If you don&#39;t know the <code>DeviceID</code>, you can run this to get the list of your available devices that have already been started or connected to the computer.</p>
<p>Flutter is a toolset and a framework at the same time.</p>
<p>Dartpad for learning basic of dart<br>https://dartpad.dartlang.org/</p>
<p>Sample if needed:</p>
<pre><code>class Person {
  String name = &#39;sumith&#39;;
  int age = 30;
}

double addNumbers(double num1, double num2) { return num1 + num2; }

void main() {
  
  for (int i = 0; i &lt; 5; i++) {
    print(&#39;hello ${i + 1}&#39;);
  }
  
  var p1 = Person();
  var p2 = Person();
  p2.name =&#39;Andre&#39;;
  
  print(p1.name);
  print(p2.name);
  
  double addnumberResult = addNumbers(2,3);
  print(addnumberResult);
}
</code></pre>


      </google-codelab-step>
    
      <google-codelab-step label="Slide 28" duration="0">
        <p>Make sure its all working</p>
<pre><code>flutter doctor
flutter create todo_app
flutter run
</code></pre>
<p>Show Dart devTools</p>
<p>Android Studio or VSCode</p>
<pre><code>Quick update change the click to 2 times.
</code></pre>
<p>All good lets work on the Todo app.</p>
<p>For that we need a <code>task_list</code><br>create a folder model<br>To start with lets create a model name it task.dart</p>
<pre><code>class Task {
  String name, details;
  bool completed = false;

  static List&lt;Task&gt; _tasks = [
    Task(&#39;Choose topic&#39;, &#39;testing desc&#39;),
    Task(&#39;Drink coffee&#39;, null),
    Task(&#39;Prepare codelab&#39;, null),
    Task(&#39;Update SDK&#39;, &#39;Flutter&#39;),
  ];

  static List&lt;Task&gt; get tasks =&gt; _tasks;

  Task(this.name, this.details);  // Constructor with parameters for creating a Task object
}
</code></pre>
<p>Lets delete every thing in <code>main.dartmain.dart</code> is the starting point<br>Talk about the main function -&gt; is the entry point</p>
<pre><code>import &#39;package:flutter/material.dart&#39;;
import &#39;task_list_view.dart&#39;;

void main() =&gt; runApp(MyApp());

class MyApp extends StatelessWidget {
  // This widget is the root of your application.
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: &#39;Flutter Demo&#39;,
      theme: ThemeData(
        // This is the theme of your application.
        //
        // Try running your application with &#34;flutter run&#34;. You&#39;ll see the
        // application has a blue toolbar. Then, without quitting the app, try
        // changing the primarySwatch below to Colors.green and then invoke
        // &#34;hot reload&#34; (press &#34;r&#34; in the console where you ran &#34;flutter run&#34;,
        // or simply save your changes to &#34;hot reload&#34; in a Flutter IDE).
        // Notice that the counter didn&#39;t reset back to zero; the application
        // is not restarted.
        primarySwatch: Colors.blue,
      ),
      home: TaskListView(),
    );
  }
}
</code></pre>
<p>So the home points to <code>TaskListView</code>, lets create a <code>task_list_view.dart</code></p>
<p>Talk about scaffold</p>
<pre><code>import &#39;package:flutter/material.dart&#39;;

import &#39;model/task.dart&#39;;

class TaskListView extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text(&#39;Tasks&#39;),
      ),
      body: ListView(
        children: &lt;Widget&gt;[
          for (final task in Task.tasks)
            ListTile(
              leading: IconButton(
                icon: (task.completed)
                    ? Icon(Icons.check_circle)
                    : Icon(Icons.radio_button_unchecked),
                onPressed: null,
              ),
              title: Text(task.name),
              subtitle: (task.details != null) ? Text(task.details) : null,
            ),
        ],
      ),
    );
  }
}
</code></pre>
<p>We are using a for loop so modify <code>pubspec.yaml</code></p>
<pre><code>sdk: &#34;&gt;=2.2.2 &lt;3.0.0&#34;
</code></pre>
<p>Talk about hotreload, and restart</p>
<p>Now you got the checkbox, lets see if we can reflect these toggle in code<br>Talk about stateful vs stateless widgets</p>
<p>In <code>task_list_view.dart</code></p>
<p>Change <code>onPressed: () =&gt; toggleTask(task),</code></p>
<p>Change the class  extend to StatefulWidget</p>
<pre><code>@override
  _TaskListViewState createState() =&gt; _TaskListViewState();
}

class _TaskListViewState extends State&lt;TaskListView&gt; {
  void toggleTask(Task task) {
    setState(() {
      task.completed = !task.completed;
    });
  }
  
  ...
  
}
</code></pre>
<p>————————  thats pretty easy and awesome check if its break time—————–</p>
<p>This looks like a long list would be nice if we can seperate our list to the ones completed different</p>
<p>We extract the list in its own list tile widget</p>
<pre><code>Widget _listTile(Task task) {
    return ListTile(
      leading: IconButton(
        icon: (task.completed)
            ? Icon(Icons.check_circle)
            : Icon(Icons.radio_button_unchecked),
        onPressed: () =&gt; toggleTask(task),
      ),
      title: Text(task.name),
      subtitle: (task.details != null) ? Text(task.details) : null,
    );
  }
</code></pre>
<p>`for (final task in Task.tasks) _listTile(task),</p>
<p>Lets modify the model &#34;model.dart&#34; and add method to ... Not the best practice, les make it work.</p>
<pre><code>static List&lt;Task&gt; get currentTasks =&gt;
      _tasks.where((task) =&gt; !task.completed).toList();

static List&lt;Task&gt; get completedTasks =&gt;
      _tasks.where((task) =&gt; task.completed).toList();
</code></pre>
<p>Now we seperate the current task and completed tasks in the list view</p>
<pre><code>for (final task in Task.currentTasks) _listTile(task),
for (final task in Task.currentTasks) _listTile(task),
          Divider(),
          ExpansionTile(
            key: _completedKey,
            title: Text(&#39;Completed (${Task.completedTasks.length})&#39;),
            children: &lt;Widget&gt;[
              for (final task in Task.completedTasks) _listTile(task),
            ],
          )
        ],
</code></pre>
<p>under class _TaskListViewState extends State {</p>
<pre><code>  final GlobalKey&lt;State&gt; _completedKey = GlobalKey&lt;State&gt;();
</code></pre>
<p>—————- So we would like to add some tasks to the list ————–<br>Lets create a new dart file <code>add_task_dialog.dart</code> -&gt; stateful widget, I will copy some code and explain as i go along.....</p>
<pre><code>import &#39;package:flutter/material.dart&#39;;

import &#39;model.dart&#39;;

class AddTaskDialog extends StatefulWidget {
  @override
  _TaskDialogState createState() =&gt; _TaskDialogState();
}

class _TaskDialogState extends State&lt;AddTaskDialog&gt; {
  String _taskName = &#39;&#39;;
  String _taskDetails;

  void _save() {
    final task = _taskName.isNotEmpty ? Task(_taskName, _taskDetails) : null;
    Navigator.of(context).pop(task);
  }

  @override
  Widget build(BuildContext context) {
    final ThemeData theme = Theme.of(context);

    return Scaffold(
      appBar: AppBar(
        title: Text(&#39;New Task&#39;),
      ),
      body: Form(
        child: ListView(
          padding: const EdgeInsets.all(16.0),
          children: &lt;Widget&gt;[
            Container(
              padding: const EdgeInsets.symmetric(vertical: 8.0),
              alignment: Alignment.bottomLeft,
              child: TextField(
                decoration: const InputDecoration(
                  labelText: &#39;Name&#39;,
                  filled: true,
                ),
                style: theme.textTheme.headline,
                onChanged: (value) =&gt; _taskName = value,
                autofocus: true,
              ),
            ),
            Container(
              padding: const EdgeInsets.symmetric(vertical: 8.0),
              alignment: Alignment.bottomLeft,
              child: TextField(
                decoration: const InputDecoration(
                  labelText: &#39;Details&#39;,
                  filled: true,
                ),
                onChanged: (value) =&gt; _taskDetails = value,
              ),
            ),
          ],
        ),
      ),
    );
  }
}
</code></pre>
<p>We modify our <code>task_list</code> add a floating action button</p>
<pre><code>floatingActionButton: FloatingActionButton(
        onPressed: _addTask,
      ),

void _addTask() {
    Navigator.push(
      context,
      MaterialPageRoute(
        builder: (context) =&gt; TaskDialog(),
        fullscreenDialog: true,
      ),
    );
  }
</code></pre>
<p>Lets also change <code>toggleTask</code> to be private for consistency <code>_toggleTask</code></p>
<p>We can navigate from tasklist to add task dialog, finally lets add a button to save.</p>
<pre><code>actions: &lt;Widget&gt;[
          FlatButton(
            child: Text(
              &#39;SAVE&#39;,
              style: theme.textTheme.body1.copyWith(color: Colors.white),
            ),
            onPressed: _save,
          ),
        ],
      ),
</code></pre>
<p>When save returns we have to wait for the dialog as it returns task. So lets change the _add task to async and save it to the list</p>
<pre><code>void _addTask() async {
    final task = await Navigator.push(
      context,
      MaterialPageRoute(
        builder: (context) =&gt; TaskDialog(),
        fullscreenDialog: true,
      ),
    );

    if (task != null) {
      setState(() {
        Task.tasks.add(task);
      });
    }
  }
</code></pre>
<p>——— finally if we have time lets look at theming and delete</p>
<p>In <code>main.dart</code><br>We see <code>theme:</code> , lets add the dark theme</p>
<pre><code>theme: ThemeData.dark(),
</code></pre>
<p>Delete task -&gt; we can play with platform specific dialogs here</p>
<p>Lets add an trailing ICON</p>
<pre><code>subtitle: (task.details != null) ? Text(task.details) : null,
      trailing: IconButton(
        icon: Icon(Icons.delete_forever),
        onPressed: () =&gt; _deleteTask(task),
      ),
</code></pre>
<pre><code>import &#39;dart:io&#39;;

import &#39;package:flutter/cupertino.dart&#39;;

void _deleteTask(Task task) async {
    final confirmed = (Platform.isIOS)
        ? await showCupertinoDialog&lt;bool&gt;(
            context: context,
            builder: (context) =&gt; CupertinoAlertDialog(
              title: const Text(&#39;Delete Task?&#39;),
              content: const Text(&#39;This task will be permanently deleted.&#39;),
              actions: &lt;Widget&gt;[
                CupertinoDialogAction(
                  child: const Text(&#39;Delete&#39;),
                  isDestructiveAction: true,
                  onPressed: () {
                    Navigator.of(context).pop(true);
                  },
                ),
                CupertinoDialogAction(
                  child: const Text(&#39;Cancel&#39;),
                  isDefaultAction: true,
                  onPressed: () {
                    Navigator.of(context).pop(false);
                  },
                ),
              ],
            ),
          )
        : await showDialog&lt;bool&gt;(
            context: context,
            builder: (context) =&gt; AlertDialog(
              title: const Text(&#39;Delete Task?&#39;),
              content: const Text(&#39;This task will be permanently deleted.&#39;),
              actions: &lt;Widget&gt;[
                FlatButton(
                  child: const Text(&#34;CANCEL&#34;),
                  onPressed: () {
                    Navigator.of(context).pop(false);
                  },
                ),
                FlatButton(
                  child: const Text(&#34;DELETE&#34;),
                  onPressed: () {
                    Navigator.of(context).pop(true);
                  },
                ),
              ],
            ),
          );

    if (confirmed ?? false) {
      setState(() {
        Task.tasks.remove(task);
      });
    }
  }
</code></pre>
<p>For consistency lets change floating button to:</p>
<pre><code>For consistency lets change floating button to:
floatingActionButton: FloatingActionButton(
        child: Icon(Icons.add),
        onPressed: _addTask,
      ),
</code></pre>


      </google-codelab-step>
    
  </google-codelab>

  <script src="https://storage.googleapis.com/codelab-elements/native-shim.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/custom-elements.min.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/prettify.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/codelab-elements.js"></script>

</body>
</html>
